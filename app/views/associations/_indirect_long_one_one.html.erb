<%= @formatter.format(@lexer.lex(<<-CODE
class #{@association.origin_model.class_name}
  # ...

  def #{@association.name}
    my_#{@association.through_association.name} = self.#{@association.through_association.name}

    the_#{@association.source_association.name.singularize} = my_#{@association.through_association.name}.#{@association.source_association.name}

    return the_#{@association.source_association.name.singularize}
  end

  # ...
end
CODE
)).html_safe %>
